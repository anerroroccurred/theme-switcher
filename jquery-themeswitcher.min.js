!function(e){e.widget("omicron.themeSwitcher",{options:{themes:[{url:"css/themes/default.css",color:"#0091cf"}],storage:!1},_create:function(){var t=this.options,o=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10);this.element.addClass("themeSwitcher").attr("id","themeSwitcher-"+o).append('<button id="themeSwitcherToggleButton"><span class="spinner">&#9881;</span></button>'),t.themes.forEach(function(e,t){var n=o+"-opt-"+t,s="";if(sessionStorage.getItem("themeSwitcher-"+window.location.hostname)==e.url)s="checked";this.element.append('<input type="radio" name="theme" id="'+n+'" data-color="'+e.color+'" data-url="'+e.url+'" '+s+' /><label for="'+n+'" style="background-color:'+e.color+'"></label>')},this);var n=e("<link />",{id:"themeStylesheet",rel:"stylesheet",type:"text/css",href:sessionStorage.getItem("themeSwitcher-"+window.location.hostname)||"css/themes/default.css"});e("head").append(n),this.element.find("input[type=radio]").change(function(){e("html").find("#themeStylesheet").attr("href",e(this).attr("data-url")),t.storage&&sessionStorage.setItem("themeSwitcher-"+window.location.hostname,e(this).attr("data-url"))}).promise().then(function(){location.reload()}),this.element.find("#themeSwitcherToggleButton").on("click",function(){e(".themeSwitcher").toggleClass("in")})},_destroy:function(){this.element.removeClass("themeSwitcher").html("")}})}(jQuery);
